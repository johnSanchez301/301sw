/**
 * Created by duongle on 5/25/14.
 */
(function(e){e(document).ready(function(){function n(){var n=e(".intro-info-logo-show").is(":checked")?1:0,r=e(".extra-logo-image .img-preview img").attr("src");t.logo={enable:n,url:r};var i=e(".intro-info-title-show").is(":checked")?1:0,s=e(".intro-info-title-text").val()?e(".intro-info-title-text").val():"",o={enable:i,text:s};t.title=o;var u=e(".intro-info-slogan-show").is(":checked")?1:0,a=e(".intro-info-slogan-type").find(":selected").val()?e(".intro-info-slogan-type").find(":selected").val():"static",f=e(".intro-info-slogan-style").find(":selected").val()?e(".intro-info-slogan-style").find(":selected").val():"owl-text",l=e(".intro-info-slogan-static-text").val()?e(".intro-info-slogan-static-text").val():"",c=[];e(".intro-info-slogan-slider-text").each(function(){c.push(e(this).val())});var h=e(".intro-info-slogan-transition-select").find(":selected").val()?e(".intro-info-slogan-transition-select").find(":selected").val():"",p={enable:u,type:a,style:f,static_text:l,slider_text:c,transition:h};t.slogan=p;var d=e(".intro-info-button-show").is(":checked")?1:0,v=e(".intro-info-button-text").val()?e(".intro-info-button-text").val():"",m=e(".intro-info-button-link").val()?e(".intro-info-button-link").val():"",g={enable:d,text:v,link:m};t.button=g;var y=e(".intro-info-link-show").is(":checked")?1:0,b=[];e(".intro-info-link-item").each(function(){var t=e(this).find("input.intro-info-link-text").val()?e(this).find("input.intro-info-link-text").val():"",n=e(this).find("input.intro-info-link-url").val()?e(this).find("input.intro-info-link-url").val():"",r={title:t,url:n};b.push(r)});var w={enable:y,items:b};t.links=w;e("input[name='theme[extra][intro_data]']").val(JSON.stringify(t))}function r(){var t={},n=e("select.intro-bg-type").find(":selected").val()?e("select.intro-bg-type").find(":selected").val():"static",r={},i=e(".intro-bg-video-url").val(),s=e(".intro-bg-video-autoplay").is(":checked")?1:0,o=e(".intro-bg-video-control").is(":checked")?1:0,u=e(".intro-bg-video-mute").is(":checked")?1:0,a=e(".intro-bg-video-loop").is(":checked")?1:0,f=e(".intro-bg-video-image-enable").is(":checked")?1:0,l=e(".intro-bg-video-image-url").val(),c=e(".intro-bg-static-image-url").val(),h=e("input.intro-bg-slider-images").val()!=""&&e("input.intro-bg-slider-images").val()!=undefined?JSON.parse(e("input.intro-bg-slider-images").val()):"",p=e(".intro-bg-slider-transition").find(":selected").val()?e(".intro-bg-slider-transition").find(":selected").val():"fade";t.type=n;t.static={image:c};t.slider={images:h,transition:p};t.video={url:i,autoplay:s,control:o,loop:a,mute:u,image:{enable:f,url:l}};e("input[name='theme[extra][intro_bg_data]']").val(JSON.stringify(t))}e("input.display-section").on("click",function(){var t=e(this).attr("dataname");if(e(this).is(":checked")){e(this).parent().parent().find(".custom-section").fadeIn();e("li[data-name='"+t+"']").fadeIn()}else{e(this).parent().parent().find(".custom-section").fadeOut();e("li[data-name='"+t+"']").fadeOut()}});e("input.display-contact").on("click",function(){if(e(this).is(":checked")){e(this).parent().parent().find(".custom-contact").fadeIn();e("li[data-name='contact']").fadeIn()}else{e(this).parent().parent().find(".custom-contact").fadeOut();e("li[data-name='contact']").fadeOut()}});e("input.display-pricing").on("click",function(){if(e(this).is(":checked")){e(this).parent().parent().find(".custom-pricing").fadeIn();e("li[data-name='pricing']").fadeIn()}else{e(this).parent().parent().find(".custom-pricing").fadeOut();e("li[data-name='pricing']").fadeOut()}});e("input.display-map").on("click",function(){if(e(this).is(":checked")){e(this).parent().parent().find(".custom-map").fadeIn();e("li[data-name='map']").fadeIn()}else{e(this).parent().parent().find(".custom-map").fadeOut();e("li[data-name='map']").fadeOut()}});e("input.display-parallax-facts").on("click",function(){if(e(this).is(":checked"))e(this).parent().parent().find(".custom-parallax-facts").fadeIn();else e(this).parent().parent().find(".custom-parallax-facts").fadeOut()});e("input.display-parallax-testimonials").on("click",function(){if(e(this).is(":checked"))e(this).parent().parent().find(".custom-parallax-testimonials").fadeIn();else e(this).parent().parent().find(".custom-parallax-testimonials").fadeOut()});e("input.display-parallax-twitter").on("click",function(){if(e(this).is(":checked"))e(this).parent().parent().find(".custom-parallax-twitter").fadeIn();else e(this).parent().parent().find(".custom-parallax-twitter").fadeOut()});e("input.display-parallax-skills").on("click",function(){if(e(this).is(":checked"))e(this).parent().parent().find(".custom-parallax-skills").fadeIn();else e(this).parent().parent().find(".custom-parallax-skills").fadeOut()});e(".maf-style-color li").on("click",function(){e(this).parent().find("li.choose").removeClass("choose");e(this).addClass("choose");var t=e(this).find("a").attr("rel");e("input.maf-style-color").val(t);e(".maf-style-color-custom").removeClass("choose");return false});e("input.style-color-custom-picker").wpColorPicker({defaultColor:false,change:function(t,n){e(this).val(e(this).val());e("body").find("input.maf-style-color").val("custom");e(".maf-style-color li.choose").removeClass("choose");e(".maf-style-color-custom").addClass("choose")},clear:function(){},hide:true,palettes:true});e(".extra-color-picker").wpColorPicker({defaultColor:false,hide:true,palettes:true});e(".section-order-reset").on("click",function(){e("#sortable input").val("about,funfact,resume,portfolio,service,testimonial,map,contact");var t=["about","funfact","resume","portfolio","service","testimonial","map","contact"];for(var n=0;n<t.length;n++){e("li[data-name='"+t[n]+"']").detach().appendTo("#sortable")}return false});e("#sortable").sortable({update:function(t,n){var r=[];e("#sortable li").each(function(t){r.push(e(this).attr("data-name"))});var i=r.join(",");e("input.section-order").val(i);return true}});e("#sortable").disableSelection();e.fn.extend({display_check:function(t){e(this).on("click",function(){if(e(this).is(":checked"))e(t).fadeIn();else e(t).fadeOut()})}});e(".intro-info-title-show").display_check(".intro-title-settings");e(".intro-info-slogan-show").display_check(".intro-slogan-settings");e("#intro_slogan_type").on("change",function(){switch(e(this).val()){case"slider":e(".slogan-slider-text").fadeIn();e(".slogan-static-text").fadeOut();break;case"static":e(".slogan-slider-text").fadeOut();e(".slogan-static-text").fadeIn();break}});e(".slogan-slider-addmore").on("click",function(){e(this).parent().before('<div class="form-group "><input type="text" value="" class="big intro-info-slogan-slider-text"><button class="md-button gray slogan-slider-remove">Delete</button></div>');return false});e("body").on("click",".slogan-slider-remove",function(){e(this).parent().remove();n();return false});e(".intro-info-button-show").display_check(".intro-button-settings");e(".intro-info-link-show").display_check(".intro-links-settings");e(".links-addmore").on("click",function(){e(this).parent().before('<div class="form-group intro-info-link-item"><input type="text" value="" placeholder="Title" class="big intro-info-link-title"><input type="text" placeholder="Url" value="" class="big intro-info-link-url"><button class="md-button gray link-remove">Delete</button></div>');return false});e("body").on("click",".link-remove",function(){e(this).parent().remove();n();return false});var t={};e("body").on("keyup change","input[class*='intro-info-']",function(){n()});e("select[class*='intro-info-']").on("change",function(){n()});e("input[class*='intro-bg-']").on("change keyup",function(){r()});e("select[class*='intro-bg-']").on("change",function(){r()});e(".intro-bg-video-autoplay").display_check(".intro-bg-video-control-box");e(".intro-bg-video-image-enable").display_check(".intro-bg-video-image-upload");e("select.intro-bg-type").on("change",function(){switch(e(this).find(":selected").val()){case"static":e(".intro-bg-static").fadeIn();e(".intro-bg-slider").fadeOut();e(".intro-bg-video").fadeOut();break;case"slider":e(".intro-bg-static").fadeOut();e(".intro-bg-slider").fadeIn();e(".intro-bg-video").fadeOut();break;case"video":e(".intro-bg-static").fadeOut();e(".intro-bg-slider").fadeOut();e(".intro-bg-video").fadeIn();break}});e(".intro-bg-upload-image").upload_single_image({callback:function(e){r()}});e(".intro-bg-remove-img").remove_upload_image({callback:function(e){r()}});e(".intro-bg-upload-slider-image").upload_multi_image({callback:function(e){r()}});e(".intro-bg-remove-slider-image").remove_multi_upload_image({callback:function(e){r()}})})})(jQuery)